(()=>{const e=window,t=document,n=t.documentElement,o=t.getElementsByTagName("body")[0],s=e.innerWidth||n.clientWidth||o.clientWidth,a=e.innerHeight||n.clientHeight||o.clientHeight,i=(document.getElementById("installContainer"),document.getElementById("butInstall"),document.getElementById("time_to"));let r="all";const c=new Date,d=c.getMonth();function l(e){i.innerHTML=e}function m(e,t,n=!1){return 1===t?`${t} ${e}`:t>1||0===t?n?`${t.toLocaleString()} ${e}s`:`${t} ${e}s`:n?`${t.toLocaleString()} ${e}`:`${t} ${e}`}11==d&&new Snowflakes({count:20,maxSize:40,wind:!0,speed:.5,maxOpacity:.5}),document.getElementById("time_to").onclick=()=>{switch(r){case"all":r="days";break;case"days":r="hours";break;case"hours":r="minutes";break;case"minutes":r="seconds";break;case"seconds":r="all"}};const h=new URLSearchParams(window.location.search);if(h.has("d")&&h.has("n")){const e=parseInt(h.get("d"))||h.get("d"),t=new Date(e).getTime(),n=h.get("n"),o=!h.has("confetti")||"true"===h.get("confetti");document.title=`${n} | CountDowner`,document.getElementById("event_name").innerText=n;const i=setInterval((()=>{const e=(new Date).getTime(),n=dayjs(t).diff(e,"month"),c=dayjs(t).subtract(n,"month"),d=t-e,h=Math.floor((c-e)/864e5),u=Math.floor(d/864e5),$=h%7,g=Math.floor((c-e)%864e5/36e5),w=Math.floor((c-e)%36e5/6e4),f=Math.floor((c-e)%6e4/1e3),y=(h-h%7)/7,k=24*u+g,v=60*k+w,I=24*u*60*60+60*g*60+60*w+f,b=24*u*60+60*g+w,M=new ConfettiGenerator({target:"confetti-holder",max:"200",size:"1.5",animate:!0,props:["circle","square","triangle","line"],colors:[[165,104,246],[230,61,135],[0,199,228],[253,214,126]],clock:"50",rotate:!0,width:s-s/25,height:a-a/10,start_from_edge:!0,respawn:!1});"all"==r?u>7?l(`\n                ${n>1?m("month",n):""} ${y>0?m("week",y):""} ${m("day",$)} ${m("hour",g)} ${m("minute",w)} ${m("second",f)}`):$>0?l(`${m("day",$)} ${m("hour",g)} ${m("minute",w)} ${m("second",f)}`):g>0?l(`${m("hour",g)} ${m("minute",w)} ${m("second",f)}`):(l(`${m("minute",w)} ${m("second",f)}`),l(w>0?`${m("minute",w)} ${m("second",f)}`:w<1&&f<20?f+","+Math.floor(d%1e3/100)+" seconds ":f+" seconds ")):"days"==r?u<1?r="hours":l(`${m("day",u,!0)}`):"hours"==r?k<1?r="minutes":l(`${m("hour",k,!0)}`):"minutes"==r?v<1?r="seconds":l(`${m("minute",b,!0)}`):"seconds"==r&&l(`${m("second",I,!0)}`),d<0&&(clearInterval(i),l("This countdown is over"),Math.abs(d)<6e4&&o&&setTimeout((()=>{M.render()}),500))}),100)}else{let e;switch(d+1){case 12:e=c.getDate()>24?"nwyr":"christmas-eve";break;default:e="nwyr"}const t=encodeURI(`/e/${e}`);location.href=t}"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/sw.js")}))})();